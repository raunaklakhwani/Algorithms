def getIndex(num):
    j = len(active) - 1
    while j >= 0:
        if len(active[j]) > 0 and num > active[j][-1]:
                n = active[j][:]
                n.append(num)
                ins = j + 1
                if ins != len(active):
                    del active[ins]
                active.insert(ins,n)
                
                break
            j = j - 1
    else:
        active.append([num])
N = int(raw_input())
active = []
for i in xrange(N):
    num = int(raw_input())
    getIndex(num)
    print active
print len(active[-1])

    