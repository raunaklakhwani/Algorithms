from pprint import pprint
s = "1523457"
#s = "12"
N = len(s)

dp = [[0] * N for _ in xrange(N)]

for i in xrange(N):
    dp[i][i] = int(s[i])

for l in xrange(2,N+1):
    for i in xrange(N):
        start = i
        end = start + l - 1
        if end < N:
            dp[start][end] += (dp[start][end-1] +dp[start+1][end] - dp[start+1][end-1])
        else:
            break    
        
pprint(dp)
