from bisect import bisect_left
tail = []

def getBinaryIndex(l,h,num):
    mid = -1
    while h >= l:
        mid = (l + h) / 2
        if tail[mid] > num:
            h = mid - 1
        else:
            l = mid + 1
    return mid
            
        

def getIndex(num):
    j = len(active) - 1
    #print tail,num
    j = bisect_left(tail, num)
    j = j - 1
    #print "j = ",j
    #print "j = ", j, tail
    if j >= 0:
        n = active[j][:]
        n.append(num)  
    else:
        n = [num]
    if len(active) != j + 1:
        del active[j + 1]
        del tail[j + 1]
    active.insert(j+1,n)
    tail.insert(j+1,n[-1])
   
N = 5
active = []
for i in [2,7,4,3,8]:
    num = i
    getIndex(num)
    #print "active = ",active
    #print "tail = ",tail
print len(active[-1])

    