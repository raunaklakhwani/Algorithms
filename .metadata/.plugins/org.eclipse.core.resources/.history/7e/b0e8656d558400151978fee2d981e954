from pprint import pprint
s = "1523457"
#s = "12"
N = len(s)

dp = [[0] * N for _ in xrange(N)]

for i in xrange(N):
    dp[i][i] = int(s[i])

for l in xrange(2,N+1):
    for i in xrange(N):
        start = i
        end = start + l - 1
        if end < N:
            dp[start][end] += (dp[start][end-1] +dp[start+1][end] - dp[start+1][end-1])
            
            
            mid = start + ((end - start) >> 1)
            #print start,mid,end
            if dp[start][mid] == dp[mid + 1][end]:
                ans = max(ans,end-start+1)
                print start,end
            
            
        else:
            break  
        
ans = 0

for l in xrange(2,N+1,2):
    for i in xrange(N):
        start = i
        end = start + l - 1
        if end < N:
            mid = start + ((end - start) >> 1)
            #print start,mid,end
            if dp[start][mid] == dp[mid + 1][end]:
                ans = max(ans,end-start+1)
                print start,end
        else:
            break
      
        
pprint(dp)
print ans
